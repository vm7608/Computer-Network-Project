{"ast":null,"code":"// HTML block\n'use strict';\n\nvar block_names = require('../common/html_blocks');\n\nvar HTML_TAG_OPEN_RE = /^<([a-zA-Z]{1,15})[\\s\\/>]/;\nvar HTML_TAG_CLOSE_RE = /^<\\/([a-zA-Z]{1,15})[\\s>]/;\n\nfunction isLetter(ch) {\n  /*eslint no-bitwise:0*/\n  var lc = ch | 0x20; // to lower case\n\n  return lc >= 0x61\n  /* a */\n  && lc <= 0x7a\n  /* z */\n  ;\n}\n\nmodule.exports = function htmlblock(state, startLine, endLine, silent) {\n  var ch,\n      match,\n      nextLine,\n      pos = state.bMarks[startLine],\n      max = state.eMarks[startLine],\n      shift = state.tShift[startLine];\n  pos += shift;\n\n  if (!state.options.html) {\n    return false;\n  }\n\n  if (shift > 3 || pos + 2 >= max) {\n    return false;\n  }\n\n  if (state.src.charCodeAt(pos) !== 0x3C\n  /* < */\n  ) {\n    return false;\n  }\n\n  ch = state.src.charCodeAt(pos + 1);\n\n  if (ch === 0x21\n  /* ! */\n  || ch === 0x3F\n  /* ? */\n  ) {\n    // Directive start / comment start / processing instruction start\n    if (silent) {\n      return true;\n    }\n  } else if (ch === 0x2F\n  /* / */\n  || isLetter(ch)) {\n    // Probably start or end of tag\n    if (ch === 0x2F\n    /* \\ */\n    ) {\n      // closing tag\n      match = state.src.slice(pos, max).match(HTML_TAG_CLOSE_RE);\n\n      if (!match) {\n        return false;\n      }\n    } else {\n      // opening tag\n      match = state.src.slice(pos, max).match(HTML_TAG_OPEN_RE);\n\n      if (!match) {\n        return false;\n      }\n    } // Make sure tag name is valid\n\n\n    if (block_names[match[1].toLowerCase()] !== true) {\n      return false;\n    }\n\n    if (silent) {\n      return true;\n    }\n  } else {\n    return false;\n  } // If we are here - we detected HTML block.\n  // Let's roll down till empty line (block end).\n\n\n  nextLine = startLine + 1;\n\n  while (nextLine < state.lineMax && !state.isEmpty(nextLine)) {\n    nextLine++;\n  }\n\n  state.line = nextLine;\n  state.tokens.push({\n    type: 'htmlblock',\n    level: state.level,\n    lines: [startLine, state.line],\n    content: state.getLines(startLine, nextLine, 0, true)\n  });\n  return true;\n};","map":{"version":3,"names":["block_names","require","HTML_TAG_OPEN_RE","HTML_TAG_CLOSE_RE","isLetter","ch","lc","module","exports","htmlblock","state","startLine","endLine","silent","match","nextLine","pos","bMarks","max","eMarks","shift","tShift","options","html","src","charCodeAt","slice","toLowerCase","lineMax","isEmpty","line","tokens","push","type","level","lines","content","getLines"],"sources":["C:/Users/caoma/Downloads/online-shop/node_modules/remarkable/lib/rules_block/htmlblock.js"],"sourcesContent":["// HTML block\n\n'use strict';\n\n\nvar block_names = require('../common/html_blocks');\n\n\nvar HTML_TAG_OPEN_RE = /^<([a-zA-Z]{1,15})[\\s\\/>]/;\nvar HTML_TAG_CLOSE_RE = /^<\\/([a-zA-Z]{1,15})[\\s>]/;\n\nfunction isLetter(ch) {\n  /*eslint no-bitwise:0*/\n  var lc = ch | 0x20; // to lower case\n  return (lc >= 0x61/* a */) && (lc <= 0x7a/* z */);\n}\n\nmodule.exports = function htmlblock(state, startLine, endLine, silent) {\n  var ch, match, nextLine,\n      pos = state.bMarks[startLine],\n      max = state.eMarks[startLine],\n      shift = state.tShift[startLine];\n\n  pos += shift;\n\n  if (!state.options.html) { return false; }\n\n  if (shift > 3 || pos + 2 >= max) { return false; }\n\n  if (state.src.charCodeAt(pos) !== 0x3C/* < */) { return false; }\n\n  ch = state.src.charCodeAt(pos + 1);\n\n  if (ch === 0x21/* ! */ || ch === 0x3F/* ? */) {\n    // Directive start / comment start / processing instruction start\n    if (silent) { return true; }\n\n  } else if (ch === 0x2F/* / */ || isLetter(ch)) {\n\n    // Probably start or end of tag\n    if (ch === 0x2F/* \\ */) {\n      // closing tag\n      match = state.src.slice(pos, max).match(HTML_TAG_CLOSE_RE);\n      if (!match) { return false; }\n    } else {\n      // opening tag\n      match = state.src.slice(pos, max).match(HTML_TAG_OPEN_RE);\n      if (!match) { return false; }\n    }\n    // Make sure tag name is valid\n    if (block_names[match[1].toLowerCase()] !== true) { return false; }\n    if (silent) { return true; }\n\n  } else {\n    return false;\n  }\n\n  // If we are here - we detected HTML block.\n  // Let's roll down till empty line (block end).\n  nextLine = startLine + 1;\n  while (nextLine < state.lineMax && !state.isEmpty(nextLine)) {\n    nextLine++;\n  }\n\n  state.line = nextLine;\n  state.tokens.push({\n    type: 'htmlblock',\n    level: state.level,\n    lines: [ startLine, state.line ],\n    content: state.getLines(startLine, nextLine, 0, true)\n  });\n\n  return true;\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}