{"ast":null,"code":"// Convert straight quotation marks to typographic ones\n//\n'use strict';\n\nvar QUOTE_TEST_RE = /['\"]/;\nvar QUOTE_RE = /['\"]/g;\nvar PUNCT_RE = /[-\\s()\\[\\]]/;\nvar APOSTROPHE = '’'; // This function returns true if the character at `pos`\n// could be inside a word.\n\nfunction isLetter(str, pos) {\n  if (pos < 0 || pos >= str.length) {\n    return false;\n  }\n\n  return !PUNCT_RE.test(str[pos]);\n}\n\nfunction replaceAt(str, index, ch) {\n  return str.substr(0, index) + ch + str.substr(index + 1);\n}\n\nmodule.exports = function smartquotes(state) {\n  /*eslint max-depth:0*/\n  var i, token, text, t, pos, max, thisLevel, lastSpace, nextSpace, item, canOpen, canClose, j, isSingle, blkIdx, tokens, stack;\n\n  if (!state.options.typographer) {\n    return;\n  }\n\n  stack = [];\n\n  for (blkIdx = state.tokens.length - 1; blkIdx >= 0; blkIdx--) {\n    if (state.tokens[blkIdx].type !== 'inline') {\n      continue;\n    }\n\n    tokens = state.tokens[blkIdx].children;\n    stack.length = 0;\n\n    for (i = 0; i < tokens.length; i++) {\n      token = tokens[i];\n\n      if (token.type !== 'text' || QUOTE_TEST_RE.test(token.text)) {\n        continue;\n      }\n\n      thisLevel = tokens[i].level;\n\n      for (j = stack.length - 1; j >= 0; j--) {\n        if (stack[j].level <= thisLevel) {\n          break;\n        }\n      }\n\n      stack.length = j + 1;\n      text = token.content;\n      pos = 0;\n      max = text.length;\n      /*eslint no-labels:0,block-scoped-var:0*/\n\n      OUTER: while (pos < max) {\n        QUOTE_RE.lastIndex = pos;\n        t = QUOTE_RE.exec(text);\n\n        if (!t) {\n          break;\n        }\n\n        lastSpace = !isLetter(text, t.index - 1);\n        pos = t.index + 1;\n        isSingle = t[0] === \"'\";\n        nextSpace = !isLetter(text, pos);\n\n        if (!nextSpace && !lastSpace) {\n          // middle of word\n          if (isSingle) {\n            token.content = replaceAt(token.content, t.index, APOSTROPHE);\n          }\n\n          continue;\n        }\n\n        canOpen = !nextSpace;\n        canClose = !lastSpace;\n\n        if (canClose) {\n          // this could be a closing quote, rewind the stack to get a match\n          for (j = stack.length - 1; j >= 0; j--) {\n            item = stack[j];\n\n            if (stack[j].level < thisLevel) {\n              break;\n            }\n\n            if (item.single === isSingle && stack[j].level === thisLevel) {\n              item = stack[j];\n\n              if (isSingle) {\n                tokens[item.token].content = replaceAt(tokens[item.token].content, item.pos, state.options.quotes[2]);\n                token.content = replaceAt(token.content, t.index, state.options.quotes[3]);\n              } else {\n                tokens[item.token].content = replaceAt(tokens[item.token].content, item.pos, state.options.quotes[0]);\n                token.content = replaceAt(token.content, t.index, state.options.quotes[1]);\n              }\n\n              stack.length = j;\n              continue OUTER;\n            }\n          }\n        }\n\n        if (canOpen) {\n          stack.push({\n            token: i,\n            pos: t.index,\n            single: isSingle,\n            level: thisLevel\n          });\n        } else if (canClose && isSingle) {\n          token.content = replaceAt(token.content, t.index, APOSTROPHE);\n        }\n      }\n    }\n  }\n};","map":{"version":3,"names":["QUOTE_TEST_RE","QUOTE_RE","PUNCT_RE","APOSTROPHE","isLetter","str","pos","length","test","replaceAt","index","ch","substr","module","exports","smartquotes","state","i","token","text","t","max","thisLevel","lastSpace","nextSpace","item","canOpen","canClose","j","isSingle","blkIdx","tokens","stack","options","typographer","type","children","level","content","OUTER","lastIndex","exec","single","quotes","push"],"sources":["C:/Users/caoma/Downloads/online-shop/node_modules/remarkable/lib/rules_core/smartquotes.js"],"sourcesContent":["// Convert straight quotation marks to typographic ones\n//\n'use strict';\n\n\nvar QUOTE_TEST_RE = /['\"]/;\nvar QUOTE_RE = /['\"]/g;\nvar PUNCT_RE = /[-\\s()\\[\\]]/;\nvar APOSTROPHE = '’';\n\n// This function returns true if the character at `pos`\n// could be inside a word.\nfunction isLetter(str, pos) {\n  if (pos < 0 || pos >= str.length) { return false; }\n  return !PUNCT_RE.test(str[pos]);\n}\n\n\nfunction replaceAt(str, index, ch) {\n  return str.substr(0, index) + ch + str.substr(index + 1);\n}\n\n\nmodule.exports = function smartquotes(state) {\n  /*eslint max-depth:0*/\n  var i, token, text, t, pos, max, thisLevel, lastSpace, nextSpace, item,\n      canOpen, canClose, j, isSingle, blkIdx, tokens,\n      stack;\n\n  if (!state.options.typographer) { return; }\n\n  stack = [];\n\n  for (blkIdx = state.tokens.length - 1; blkIdx >= 0; blkIdx--) {\n\n    if (state.tokens[blkIdx].type !== 'inline') { continue; }\n\n    tokens = state.tokens[blkIdx].children;\n    stack.length = 0;\n\n    for (i = 0; i < tokens.length; i++) {\n      token = tokens[i];\n\n      if (token.type !== 'text' || QUOTE_TEST_RE.test(token.text)) { continue; }\n\n      thisLevel = tokens[i].level;\n\n      for (j = stack.length - 1; j >= 0; j--) {\n        if (stack[j].level <= thisLevel) { break; }\n      }\n      stack.length = j + 1;\n\n      text = token.content;\n      pos = 0;\n      max = text.length;\n\n      /*eslint no-labels:0,block-scoped-var:0*/\n      OUTER:\n      while (pos < max) {\n        QUOTE_RE.lastIndex = pos;\n        t = QUOTE_RE.exec(text);\n        if (!t) { break; }\n\n        lastSpace = !isLetter(text, t.index - 1);\n        pos = t.index + 1;\n        isSingle = (t[0] === \"'\");\n        nextSpace = !isLetter(text, pos);\n\n        if (!nextSpace && !lastSpace) {\n          // middle of word\n          if (isSingle) {\n            token.content = replaceAt(token.content, t.index, APOSTROPHE);\n          }\n          continue;\n        }\n\n        canOpen = !nextSpace;\n        canClose = !lastSpace;\n\n        if (canClose) {\n          // this could be a closing quote, rewind the stack to get a match\n          for (j = stack.length - 1; j >= 0; j--) {\n            item = stack[j];\n            if (stack[j].level < thisLevel) { break; }\n            if (item.single === isSingle && stack[j].level === thisLevel) {\n              item = stack[j];\n              if (isSingle) {\n                tokens[item.token].content = replaceAt(tokens[item.token].content, item.pos, state.options.quotes[2]);\n                token.content = replaceAt(token.content, t.index, state.options.quotes[3]);\n              } else {\n                tokens[item.token].content = replaceAt(tokens[item.token].content, item.pos, state.options.quotes[0]);\n                token.content = replaceAt(token.content, t.index, state.options.quotes[1]);\n              }\n              stack.length = j;\n              continue OUTER;\n            }\n          }\n        }\n\n        if (canOpen) {\n          stack.push({\n            token: i,\n            pos: t.index,\n            single: isSingle,\n            level: thisLevel\n          });\n        } else if (canClose && isSingle) {\n          token.content = replaceAt(token.content, t.index, APOSTROPHE);\n        }\n      }\n    }\n  }\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}