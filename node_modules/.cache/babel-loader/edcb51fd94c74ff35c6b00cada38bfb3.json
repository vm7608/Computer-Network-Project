{"ast":null,"code":"// Process inline footnotes (^[...])\n'use strict';\n\nvar parseLinkLabel = require('../helpers/parse_link_label');\n\nmodule.exports = function footnote_inline(state, silent) {\n  var labelStart,\n      labelEnd,\n      footnoteId,\n      oldLength,\n      max = state.posMax,\n      start = state.pos;\n\n  if (start + 2 >= max) {\n    return false;\n  }\n\n  if (state.src.charCodeAt(start) !== 0x5E\n  /* ^ */\n  ) {\n    return false;\n  }\n\n  if (state.src.charCodeAt(start + 1) !== 0x5B\n  /* [ */\n  ) {\n    return false;\n  }\n\n  if (state.level >= state.options.maxNesting) {\n    return false;\n  }\n\n  labelStart = start + 2;\n  labelEnd = parseLinkLabel(state, start + 1); // parser failed to find ']', so it's not a valid note\n\n  if (labelEnd < 0) {\n    return false;\n  } // We found the end of the link, and know for a fact it's a valid link;\n  // so all that's left to do is to call tokenizer.\n  //\n\n\n  if (!silent) {\n    if (!state.env.footnotes) {\n      state.env.footnotes = {};\n    }\n\n    if (!state.env.footnotes.list) {\n      state.env.footnotes.list = [];\n    }\n\n    footnoteId = state.env.footnotes.list.length;\n    state.pos = labelStart;\n    state.posMax = labelEnd;\n    state.push({\n      type: 'footnote_ref',\n      id: footnoteId,\n      level: state.level\n    });\n    state.linkLevel++;\n    oldLength = state.tokens.length;\n    state.parser.tokenize(state);\n    state.env.footnotes.list[footnoteId] = {\n      tokens: state.tokens.splice(oldLength)\n    };\n    state.linkLevel--;\n  }\n\n  state.pos = labelEnd + 1;\n  state.posMax = max;\n  return true;\n};","map":{"version":3,"names":["parseLinkLabel","require","module","exports","footnote_inline","state","silent","labelStart","labelEnd","footnoteId","oldLength","max","posMax","start","pos","src","charCodeAt","level","options","maxNesting","env","footnotes","list","length","push","type","id","linkLevel","tokens","parser","tokenize","splice"],"sources":["C:/Users/caoma/Downloads/another/online-shop/node_modules/remarkable/lib/rules_inline/footnote_inline.js"],"sourcesContent":["// Process inline footnotes (^[...])\n\n'use strict';\n\nvar parseLinkLabel = require('../helpers/parse_link_label');\n\n\nmodule.exports = function footnote_inline(state, silent) {\n  var labelStart,\n      labelEnd,\n      footnoteId,\n      oldLength,\n      max = state.posMax,\n      start = state.pos;\n\n  if (start + 2 >= max) { return false; }\n  if (state.src.charCodeAt(start) !== 0x5E/* ^ */) { return false; }\n  if (state.src.charCodeAt(start + 1) !== 0x5B/* [ */) { return false; }\n  if (state.level >= state.options.maxNesting) { return false; }\n\n  labelStart = start + 2;\n  labelEnd = parseLinkLabel(state, start + 1);\n\n  // parser failed to find ']', so it's not a valid note\n  if (labelEnd < 0) { return false; }\n\n  // We found the end of the link, and know for a fact it's a valid link;\n  // so all that's left to do is to call tokenizer.\n  //\n  if (!silent) {\n    if (!state.env.footnotes) { state.env.footnotes = {}; }\n    if (!state.env.footnotes.list) { state.env.footnotes.list = []; }\n    footnoteId = state.env.footnotes.list.length;\n\n    state.pos = labelStart;\n    state.posMax = labelEnd;\n\n    state.push({\n      type: 'footnote_ref',\n      id: footnoteId,\n      level: state.level\n    });\n    state.linkLevel++;\n    oldLength = state.tokens.length;\n    state.parser.tokenize(state);\n    state.env.footnotes.list[footnoteId] = { tokens: state.tokens.splice(oldLength) };\n    state.linkLevel--;\n  }\n\n  state.pos = labelEnd + 1;\n  state.posMax = max;\n  return true;\n};\n"],"mappings":"AAAA;AAEA;;AAEA,IAAIA,cAAc,GAAGC,OAAO,CAAC,6BAAD,CAA5B;;AAGAC,MAAM,CAACC,OAAP,GAAiB,SAASC,eAAT,CAAyBC,KAAzB,EAAgCC,MAAhC,EAAwC;EACvD,IAAIC,UAAJ;EAAA,IACIC,QADJ;EAAA,IAEIC,UAFJ;EAAA,IAGIC,SAHJ;EAAA,IAIIC,GAAG,GAAGN,KAAK,CAACO,MAJhB;EAAA,IAKIC,KAAK,GAAGR,KAAK,CAACS,GALlB;;EAOA,IAAID,KAAK,GAAG,CAAR,IAAaF,GAAjB,EAAsB;IAAE,OAAO,KAAP;EAAe;;EACvC,IAAIN,KAAK,CAACU,GAAN,CAAUC,UAAV,CAAqBH,KAArB,MAAgC;EAAI;EAAxC,EAAiD;IAAE,OAAO,KAAP;EAAe;;EAClE,IAAIR,KAAK,CAACU,GAAN,CAAUC,UAAV,CAAqBH,KAAK,GAAG,CAA7B,MAAoC;EAAI;EAA5C,EAAqD;IAAE,OAAO,KAAP;EAAe;;EACtE,IAAIR,KAAK,CAACY,KAAN,IAAeZ,KAAK,CAACa,OAAN,CAAcC,UAAjC,EAA6C;IAAE,OAAO,KAAP;EAAe;;EAE9DZ,UAAU,GAAGM,KAAK,GAAG,CAArB;EACAL,QAAQ,GAAGR,cAAc,CAACK,KAAD,EAAQQ,KAAK,GAAG,CAAhB,CAAzB,CAduD,CAgBvD;;EACA,IAAIL,QAAQ,GAAG,CAAf,EAAkB;IAAE,OAAO,KAAP;EAAe,CAjBoB,CAmBvD;EACA;EACA;;;EACA,IAAI,CAACF,MAAL,EAAa;IACX,IAAI,CAACD,KAAK,CAACe,GAAN,CAAUC,SAAf,EAA0B;MAAEhB,KAAK,CAACe,GAAN,CAAUC,SAAV,GAAsB,EAAtB;IAA2B;;IACvD,IAAI,CAAChB,KAAK,CAACe,GAAN,CAAUC,SAAV,CAAoBC,IAAzB,EAA+B;MAAEjB,KAAK,CAACe,GAAN,CAAUC,SAAV,CAAoBC,IAApB,GAA2B,EAA3B;IAAgC;;IACjEb,UAAU,GAAGJ,KAAK,CAACe,GAAN,CAAUC,SAAV,CAAoBC,IAApB,CAAyBC,MAAtC;IAEAlB,KAAK,CAACS,GAAN,GAAYP,UAAZ;IACAF,KAAK,CAACO,MAAN,GAAeJ,QAAf;IAEAH,KAAK,CAACmB,IAAN,CAAW;MACTC,IAAI,EAAE,cADG;MAETC,EAAE,EAAEjB,UAFK;MAGTQ,KAAK,EAAEZ,KAAK,CAACY;IAHJ,CAAX;IAKAZ,KAAK,CAACsB,SAAN;IACAjB,SAAS,GAAGL,KAAK,CAACuB,MAAN,CAAaL,MAAzB;IACAlB,KAAK,CAACwB,MAAN,CAAaC,QAAb,CAAsBzB,KAAtB;IACAA,KAAK,CAACe,GAAN,CAAUC,SAAV,CAAoBC,IAApB,CAAyBb,UAAzB,IAAuC;MAAEmB,MAAM,EAAEvB,KAAK,CAACuB,MAAN,CAAaG,MAAb,CAAoBrB,SAApB;IAAV,CAAvC;IACAL,KAAK,CAACsB,SAAN;EACD;;EAEDtB,KAAK,CAACS,GAAN,GAAYN,QAAQ,GAAG,CAAvB;EACAH,KAAK,CAACO,MAAN,GAAeD,GAAf;EACA,OAAO,IAAP;AACD,CA7CD"},"metadata":{},"sourceType":"script"}