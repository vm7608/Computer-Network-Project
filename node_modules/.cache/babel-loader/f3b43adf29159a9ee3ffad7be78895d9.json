{"ast":null,"code":"// encapsulates the subscription logic for connecting a component to the redux store, as\n// well as nesting subscriptions of descendant components, so that we can ensure the\n// ancestor components re-render before descendants\nvar CLEARED = null;\nvar nullListeners = {\n  notify: function notify() {}\n};\n\nfunction createListenerCollection() {\n  // the current/next pattern is copied from redux's createStore code.\n  // TODO: refactor+expose that code to be reusable here?\n  var current = [];\n  var next = [];\n  return {\n    clear: function clear() {\n      next = CLEARED;\n      current = CLEARED;\n    },\n    notify: function notify() {\n      var listeners = current = next;\n\n      for (var i = 0; i < listeners.length; i++) {\n        listeners[i]();\n      }\n    },\n    get: function get() {\n      return next;\n    },\n    subscribe: function subscribe(listener) {\n      var isSubscribed = true;\n      if (next === current) next = current.slice();\n      next.push(listener);\n      return function unsubscribe() {\n        if (!isSubscribed || current === CLEARED) return;\n        isSubscribed = false;\n        if (next === current) next = current.slice();\n        next.splice(next.indexOf(listener), 1);\n      };\n    }\n  };\n}\n\nvar Subscription = /*#__PURE__*/function () {\n  function Subscription(store, parentSub, onStateChange) {\n    this.store = store;\n    this.parentSub = parentSub;\n    this.onStateChange = onStateChange;\n    this.unsubscribe = null;\n    this.listeners = nullListeners;\n  }\n\n  var _proto = Subscription.prototype;\n\n  _proto.addNestedSub = function addNestedSub(listener) {\n    this.trySubscribe();\n    return this.listeners.subscribe(listener);\n  };\n\n  _proto.notifyNestedSubs = function notifyNestedSubs() {\n    this.listeners.notify();\n  };\n\n  _proto.isSubscribed = function isSubscribed() {\n    return Boolean(this.unsubscribe);\n  };\n\n  _proto.trySubscribe = function trySubscribe() {\n    if (!this.unsubscribe) {\n      this.unsubscribe = this.parentSub ? this.parentSub.addNestedSub(this.onStateChange) : this.store.subscribe(this.onStateChange);\n      this.listeners = createListenerCollection();\n    }\n  };\n\n  _proto.tryUnsubscribe = function tryUnsubscribe() {\n    if (this.unsubscribe) {\n      this.unsubscribe();\n      this.unsubscribe = null;\n      this.listeners.clear();\n      this.listeners = nullListeners;\n    }\n  };\n\n  return Subscription;\n}();\n\nexport { Subscription as default };","map":{"version":3,"names":["CLEARED","nullListeners","notify","createListenerCollection","current","next","clear","listeners","i","length","get","subscribe","listener","isSubscribed","slice","push","unsubscribe","splice","indexOf","Subscription","store","parentSub","onStateChange","_proto","prototype","addNestedSub","trySubscribe","notifyNestedSubs","Boolean","tryUnsubscribe","default"],"sources":["C:/Users/caoma/Downloads/another/online-shop/node_modules/react-redux/es/utils/Subscription.js"],"sourcesContent":["// encapsulates the subscription logic for connecting a component to the redux store, as\n// well as nesting subscriptions of descendant components, so that we can ensure the\n// ancestor components re-render before descendants\nvar CLEARED = null;\nvar nullListeners = {\n  notify: function notify() {}\n};\n\nfunction createListenerCollection() {\n  // the current/next pattern is copied from redux's createStore code.\n  // TODO: refactor+expose that code to be reusable here?\n  var current = [];\n  var next = [];\n  return {\n    clear: function clear() {\n      next = CLEARED;\n      current = CLEARED;\n    },\n    notify: function notify() {\n      var listeners = current = next;\n\n      for (var i = 0; i < listeners.length; i++) {\n        listeners[i]();\n      }\n    },\n    get: function get() {\n      return next;\n    },\n    subscribe: function subscribe(listener) {\n      var isSubscribed = true;\n      if (next === current) next = current.slice();\n      next.push(listener);\n      return function unsubscribe() {\n        if (!isSubscribed || current === CLEARED) return;\n        isSubscribed = false;\n        if (next === current) next = current.slice();\n        next.splice(next.indexOf(listener), 1);\n      };\n    }\n  };\n}\n\nvar Subscription =\n/*#__PURE__*/\nfunction () {\n  function Subscription(store, parentSub, onStateChange) {\n    this.store = store;\n    this.parentSub = parentSub;\n    this.onStateChange = onStateChange;\n    this.unsubscribe = null;\n    this.listeners = nullListeners;\n  }\n\n  var _proto = Subscription.prototype;\n\n  _proto.addNestedSub = function addNestedSub(listener) {\n    this.trySubscribe();\n    return this.listeners.subscribe(listener);\n  };\n\n  _proto.notifyNestedSubs = function notifyNestedSubs() {\n    this.listeners.notify();\n  };\n\n  _proto.isSubscribed = function isSubscribed() {\n    return Boolean(this.unsubscribe);\n  };\n\n  _proto.trySubscribe = function trySubscribe() {\n    if (!this.unsubscribe) {\n      this.unsubscribe = this.parentSub ? this.parentSub.addNestedSub(this.onStateChange) : this.store.subscribe(this.onStateChange);\n      this.listeners = createListenerCollection();\n    }\n  };\n\n  _proto.tryUnsubscribe = function tryUnsubscribe() {\n    if (this.unsubscribe) {\n      this.unsubscribe();\n      this.unsubscribe = null;\n      this.listeners.clear();\n      this.listeners = nullListeners;\n    }\n  };\n\n  return Subscription;\n}();\n\nexport { Subscription as default };"],"mappings":"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"},"metadata":{},"sourceType":"module"}